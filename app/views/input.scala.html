@()

<script type="text/javascript">
var wsUri = "ws://echo.websocket.org/";
var ws;

function connect() {
    console.log(">>>> connect()");
    
    ws = new WebSocket(wsUri);
    ws.onopen = function (e) { console.log("onopen"); }
    ws.onclose = function (e) { console.log("onclose"); }
    ws.onmessage = function (e) { console.log("onmessage: " + e.data ); }
    ws.onerror = function (e) { console.log("onerror"); }
}

function send() {
    ws.send((new Date).getTime());
}
</script>

<form action="http://www.google.com.tw">
    <textarea rows="24" cols="80"></textarea>
    <input type="button" value="connect" onclick="connect()"></input>
    <input type="button" value="send" onclick="send()"></input>
</form>